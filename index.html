<!DOCTYPE html>
<html lang="en">
<head>

    <title>Rock Paper Scissors</title>
</head>
<body>
    <script>
        function computerPlay() {
            //generate random number between 0 and 2, match number to rock, paper, or scissors, return computer choice
            let randomNum = Math.floor(Math.random() * Math.floor(3));
            
            if (randomNum == 0) {
                return "rock";
            }
            else if (randomNum == 1) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }

        function playRound(playerSelection,computerSelection) {
            //play a single round
            playerChoice = playerSelection.toLowerCase();
            switch (playerChoice) {
                case "rock":
                    switch (computerSelection) {
                        case "rock": 
                            return "Tie!";
                            break;

                        case "paper": 
                            return "You lose! Paper beats Rock!";
                            break;

                        case "scissors": 
                            return "You win! Rock beats Scissors!";
                    }
                break;
                
                case "paper": 
                    switch(computerSelection) {
                        case "rock": 
                            return "You win! Paper beats Rock!";
                            break;
                            
                        case "paper": 
                            return "Tie!";
                            break;

                        case "scissors": 
                            return "You lose! Scissors beat Paper!";
                        }
                    break;

                case "scissors": 
                        switch(computerSelection) {
                            case "rock":
                                return "You lose! Rock beats Scissors!";
                                break;

                            case "paper": 
                                return "You win! Scissors beats Paper!";
                                break;

                            case "scissors": 
                                return "Tie!";
                        }
                default: 
                    return "You lose for not following the rules!";
            }
        }

        function game() {
            let round = 1;
            let playerScore = 0;
            let computerScore = 0;

            while (round < 6) {
                console.log("Round" + round + "!");
                console.log("Current score: Player - " + playerScore + ", Computer - " + computerScore);
                let playerChoice = prompt("Rock, Paper, or Scissors?");
                result = playRound(playerChoice,computerPlay());
                
                if (result.search("win") != -1) {
                    playerScore += 1;
                }
                else if (result.search("lose") != -1) {
                    computerScore += 1;
                }
                
                console.log(result);
                round += 1;
            }

        console.log("Game over!");
        console.log("Final Score: Player - " + playerScore + ", Computer - " + computerScore);
            
            if (playerScore > computerScore) {
                console.log("Player wins!");
            }
            else if (computerScore > playerScore) {
                console.log("Computer wins!");
            }
            else {
                console.log("You tied!");
            }
        }    
    </script>
</body>
</html>